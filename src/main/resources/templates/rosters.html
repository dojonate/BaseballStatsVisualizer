<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/styles-scripts :: styles('Rosters')}"></head>
<body class="grey darken-4">
<div th:replace="~{fragments/header :: header}"></div>

<main class="container">
    <h1 class="center-align white-text">Rosters</h1>

    <!-- Search Bar -->
    <form class="row" method="get" th:action="@{/rosters}">
        <div class="input-field col s12 m6">
            <input class="white-text" id="search" name="search" th:value="${search}" type="text">
            <label class="white-text" for="search">Search by player name or team</label>
        </div>
        <div class="input-field col s12 m6">
            <button class="btn waves-effect waves-light" type="submit">Search</button>
        </div>
    </form>

    <!-- Rosters Table -->
    <div class="card grey darken-3">
        <div class="card-content">
            <table class="highlight responsive-table">
                <thead>
                <tr>
                    <th class="white-text">Player First Name</th>
                    <th class="white-text">Player Last Name</th>
                    <th class="white-text">Team Name</th>
                    <th class="white-text">Position</th>
                    <th class="white-text">Years</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="entry : ${consolidatedRosters}">
                    <td class="white-text" th:text="${entry.key.firstName}"></td>
                    <td class="white-text" th:text="${entry.key.lastName}"></td>
                    <td class="white-text" th:each="teamEntry : ${entry.value}">
                        <span th:text="${teamEntry.key.name}"></span>
                        <span th:text="${teamEntry.value.key}"></span> <!-- Position -->
                        <span th:text="${teamEntry.value.value}"></span> <!-- Years -->
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Pagination -->
    <div th:replace="~{fragments/pagination :: pagination(${currentPage}, ${totalPages}, ${search}, '/rosters')}"></div>
</main>
r
<div th:replace="~{fragments/footer :: footer}"></div>
<div th:replace="~{fragments/styles-scripts :: scripts}"></div>
</body>
</html>